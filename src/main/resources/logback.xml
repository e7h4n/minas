<configuration>
    <include resource="org/springframework/boot/logging/logback/base.xml"/>
    <appender name="LOGGLY" class="ch.qos.logback.ext.loggly.LogglyAppender">
        <endpointUrl>http://logs-01.loggly.com/inputs/3c65f781-dc32-4345-9ffd-dffe5aafe1c1/tag/logback</endpointUrl>
        <pattern>%d{"ISO8601", UTC} %p %t %c{0}.%M - %m%n</pattern>
    </appender>

    <appender name="ASYNC_LOGGLY" class="ch.qos.logback.classic.AsyncAppender">
        <appender-ref ref="LOGGLY"/>
    </appender>

    <root level="INFO">
        <appender-ref ref="CONSOLE"/>
        <appender-ref ref="FILE"/>
        <appender-ref ref="ASYNC_LOGGLY"/>
    </root>
</configuration>
